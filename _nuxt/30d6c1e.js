(window.webpackJsonp=window.webpackJsonp||[]).push([[11,18],{395:function(e,t,o){var content=o(399);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(96).default)("6c5c0534",content,!0,{sourceMap:!1})},398:function(e,t,o){"use strict";var l=o(395),n=o.n(l);o.d(t,"default",(function(){return n.a}))},399:function(e,t,o){var l=o(95)(!1);l.push([e.i,'.block_5XzDG textarea{display:block;width:100%;height:auto;min-height:48px;box-sizing:border-box;color:#000;border-radius:5px;padding:22px 16px 4px;-webkit-appearance:none;-moz-appearance:none;box-shadow:none;outline:none}.block_5XzDG textarea::-webkit-inner-spin-button,.block_5XzDG textarea::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.block_5XzDG textarea::-moz-placeholder{font-size:16px;line-height:1.4;color:rgba(var(--secondary),.8)}.block_5XzDG textarea::placeholder{font-size:16px;line-height:1.4;color:rgba(var(--secondary),.8)}.block_field_elhih{overflow:hidden}.block_input_frw8W{position:relative;flex:1 1 100%;padding-top:20px}.block_placeholder_2Ib-c{position:absolute;top:73px;left:0;cursor:text;font-size:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:transform .2s,font-size .2s,color .2s;z-index:2}.block_help_MbKVt,.block_placeholder_2Ib-c{color:rgba(0,0,0,.8);padding:0 16px}.block_help_MbKVt{font-size:12px;line-height:1.2;margin:4px 0 0}.block_help_MbKVt p{margin:0}.block--focus_dUXWN .block_placeholder_2Ib-c{font-size:12px;color:rgba(0,0,0,.5);top:0}.block--filled_GiLcZ .block_placeholder_2Ib-c{font-size:12px;top:0}.block--required_wdfrD .block_placeholder_2Ib-c:after{content:"*";display:inline-block}.block--disabled_kmOKz .block_field_elhih{cursor:not-allowed;opacity:.6}.block--disabled_kmOKz .block_placeholder_2Ib-c{pointer-events:none}.block--disabled_kmOKz textarea{cursor:not-allowed}.block--has-error_ph1yR .block_help_MbKVt,.block--has-error_ph1yR .block_placeholder_2Ib-c{color:#f30}',""]),l.locals={block:"block_5XzDG",block_field:"block_field_elhih",block_input:"block_input_frw8W",block_placeholder:"block_placeholder_2Ib-c",block_help:"block_help_MbKVt","block--focus":"block--focus_dUXWN","block--filled":"block--filled_GiLcZ","block--required":"block--required_wdfrD","block--disabled":"block--disabled_kmOKz","block--has-error":"block--has-error_ph1yR"},e.exports=l},423:function(e,t,o){"use strict";o.r(t);var l=o(52),n=o(3),r=(o(8),o(55),o(57),{name:"AppWysiwyg",components:{"ckeditor-nuxt":function(){return o.e(32).then(o.t.bind(null,453,7))}},model:{prop:"value",event:"change"},props:{value:{type:String,default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},inputClasses:{type:Array,default:function(){return[]}}},data:function(){return{inFocus:!1,fieldScrollTop:0,editorConfig:{removePlugins:["Title"]}}},methods:{handleChange:function(e){this.$emit("change",e)},handleFocus:function(){this.inFocus=!0,this.$emit("focus")},handleBlur:function(){this.inFocus=!1,this.$emit("blur")},handleWrapperClick:function(){this.$refs.blockTextarea.$el.parentElement.querySelector('[contenteditable="true"]').focus()}}}),c=o(398),d=o(67);var component=Object(d.a)(r,(function(){var e=this,t=e._self._c;return t("div",{ref:"block",class:[e.$style.block,Object(n.a)({},e.$style["block--focus"],e.inFocus),Object(n.a)({},e.$style["block--required"],e.required),Object(n.a)({},e.$style["block--disabled"],e.disabled),Object(n.a)({},e.$style["block--has-error"],e.hasError),Object(n.a)({},e.$style["block--filled"],e.value&&e.value.length)]},[t("div",{class:e.$style.block_field,on:{click:function(t){return t.preventDefault(),e.handleWrapperClick.apply(null,arguments)}}},[t("div",{class:e.$style.block_input},[t("div",{class:e.$style.block_placeholder,style:{marginTop:"-".concat(e.fieldScrollTop,"px")}},[e._v("\n        "+e._s(e.placeholder)+"\n      ")]),e._v(" "),t("ckeditor-nuxt",{ref:"blockTextarea",class:Object(l.a)(e.inputClasses),attrs:{value:e.value,config:e.editorConfig,disabled:e.disabled},on:{input:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}})],1)]),e._v(" "),e.$slots.help?t("div",{class:e.$style.block_help},[e._t("help")],2):e._e()])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.default=component.exports},428:function(e,t,o){"use strict";var l=o(52);o(214);t.a={methods:{applyDrag:function(e,t){var o=t.removedIndex,n=t.addedIndex,r=t.payload;if(null===o&&null===n)return e;var c=Object(l.a)(e),d=r;return null!==o&&(d=c.splice(o,1)[0]),null!==n&&c.splice(n,0,d),c},onDrop:function(e,t){return this.applyDrag(t,e)}}}},441:function(e,t,o){"use strict";o.r(t);o(13),o(82);var l=o(3),n=(o(14),o(214),o(10),o(8),o(15),o(11),o(16),o(436)),r=o(215),c=o(397),d=o(428);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var h={name:"FormEditPostComponent",components:{AppWysiwyg:o(423).default,Container:n.Container,Draggable:n.Draggable},mixins:[r.validationMixin,d.a],props:{initialData:{type:Object,default:function(){}}},data:function(){return{formFields:{title:"",description:"",images:[]},imageIndex:0}},watch:{initialData:function(){this.setFormData(this.initialData)}},mounted:function(){this.setFormData(this.initialData)},methods:{validateState:function(e){var t=this.$v.formFields[e],o=t.$dirty,l=t.$error;return o?!l:null},clearFormData:function(){this.formFields.title="",this.formFields.description="",this.formFields.images=[]},setFormData:function(data){Object.keys(data).length&&(this.formFields.title=data.title,this.formFields.description=data.description,this.formFields.images=data.media)},removeImg:function(e){this.imageIndex=e,this.$bvModal.show("deleteItemImage")},deleteImagePost:function(){this.formFields.images.splice(this.imageIndex,1),this.$bvModal.hide("deleteItemImage"),this.$notify({message:"Click to save button for saving changes",variant:"warning"})},changeQueue:function(e){if(this.formFields.images.length<=1)return this.$notify({message:"You can not change queue of images",variant:"warning"});this.formFields.images=this.onDrop(e,this.formFields.images),this.$notify({message:"Click to save button for saving changes",variant:"warning"})},onSubmit:function(){if(this.$v.$touch(),!this.$v.$invalid)try{var e=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.initialData);return e.title=this.formFields.title,e.description=this.formFields.description,e.media=this.formFields.images,this.$emit("submit",e)}catch(e){this.handleError(e)}},deleteItemBtn:function(){this.$emit("deletePost",this.post)}},validations:{formFields:{title:{required:c.required},description:{required:c.required}}}},m=h,_=o(67),component=Object(_.a)(m,(function(){var e,t=this,o=t._self._c;return o("b-form",{staticClass:"post form form--post",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[o("div",{staticClass:"post__top-create"},[o("div",{staticClass:"post__right"},[o("b-form-group",{attrs:{label:"Title:","label-for":"input-name"}},[o("b-form-input",{staticClass:"post__input",attrs:{id:"input-name",state:t.validateState("title"),"aria-describedby":"input-title-feedback",type:"text",placeholder:"Post title"},model:{value:t.$v.formFields.title.$model,callback:function(e){t.$set(t.$v.formFields.title,"$model",e)},expression:"$v.formFields.title.$model"}}),t._v(" "),o("b-form-invalid-feedback",{attrs:{id:"input-title-feedback"}},[t.$v.formFields.title.required?t._e():o("p",[t._v("This is a required field")])])],1),t._v(" "),o("b-form-group",[o("client-only",{attrs:{placeholder:"loading..."}},[o("AppWysiwyg",{attrs:{"has-error":t.$v.formFields.description.$error&&t.$v.$dirty,placeholder:"Description"},scopedSlots:t._u([t.$v.formFields.description.$error&&t.$v.$dirty?{key:"help",fn:function(){return[t.$v.formFields.description.required?t._e():o("p",[t._v("\n                Field is required.\n              ")])]},proxy:!0}:null],null,!0),model:{value:t.$v.formFields.description.$model,callback:function(e){t.$set(t.$v.formFields.description,"$model",e)},expression:"$v.formFields.description.$model"}})],1)],1)],1)]),t._v(" "),o("h4",{staticClass:"post__uploaded-images-title"},[t._v("Post images")]),t._v(" "),null!==(e=t.formFields.images)&&void 0!==e&&e.length?o("div",{staticClass:"post__uploaded-images"},[o("Container",{attrs:{orientation:"horizontal",behaviour:"contain"},on:{drop:t.changeQueue}},t._l(t.formFields.images,(function(e,l){return o("Draggable",{key:l},[o("div",{class:["post__uploaded-image"]},[o("img",{attrs:{src:e.url,alt:""}}),t._v(" "),t.formFields.images.length>1?o("div",{staticClass:"post__uploaded-image-remove",on:{click:function(e){return t.removeImg(l)}}},[o("b-icon",{attrs:{icon:"x"}})],1):t._e(),t._v(" "),o("div",{staticClass:"post__uploaded-image-index"},[t._v("\n            "+t._s(l+1)+"\n          ")])])])})),1)],1):t._e(),t._v(" "),o("div",{staticClass:"w-100 d-flex justify-content-end"},[o("button",{staticClass:"button button--warning",attrs:{type:"button"},on:{click:function(e){t.$router.push(t.$getRoutePath("home"))}}},[t._v("\n      Cancel\n    ")]),t._v(" "),o("button",{staticClass:"button ml-1 button--danger",attrs:{type:"button"},on:{click:t.deleteItemBtn}},[t._v("\n      Delete\n    ")]),t._v(" "),o("button",{staticClass:"button ml-1",attrs:{type:"submit"}},[t._v("Save")])]),t._v(" "),o("client-only",[o("AppModal",{attrs:{id:"deleteItemImage"},scopedSlots:t._u([{key:"default",fn:function(){return[o("h5",{staticClass:"mb-4"},[t._v("\n          Are you sure you want to delete the image of post ? You can't add\n          new image after deletion !\n        ")]),t._v(" "),o("div",{staticClass:"d-flex w-100 justify-content-end"},[o("button",{staticClass:"button mr-2",attrs:{type:"buton"},on:{click:function(e){return t.$bvModal.hide("deleteItemImage")}}},[t._v("\n            Cancel\n          ")]),t._v(" "),o("button",{staticClass:"button button--danger",attrs:{type:"button"},on:{click:t.deleteImagePost}},[t._v("\n            Delete\n          ")])])]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);