(window.webpackJsonp=window.webpackJsonp||[]).push([[16,17],{396:function(t,o,e){"use strict";e.r(o);var n=e(52),r=(e(42),e(14),e(13),e(10),e(15),e(11),e(16),e(3)),c=(e(8),e(56),e(118));function l(object,t){var o=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),o.push.apply(o,e)}return o}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(o){Object(r.a)(t,o,source[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(source,o))}))}return t}var _={name:"AppAccountHeaderComponent",props:{account:{type:Object,required:!0}},computed:d(d({},Object(c.b)("auth",["user"])),{},{getCurrent:function(){return"_id"in this.account&&this.account._id.toString()===this.user._id.toString()?["profile"]:["user",this.account._id]}})},m=e(67),component=Object(m.a)(_,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"account"},[o("div",{staticClass:"account-avatar"},[o("nuxt-link",{attrs:{to:t.$getRoutePath.apply(t,Object(n.a)(t.getCurrent))}},[o("img",{attrs:{src:t.account.image,alt:"profile logo"}})])],1),t._v(" "),o("div",{staticClass:"account-info"},[o("div",{staticClass:"account-name"},[o("nuxt-link",{attrs:{to:t.$getRoutePath.apply(t,Object(n.a)(t.getCurrent))}},[o("h3",[t._v(t._s(t.account.name))])])],1),t._v(" "),o("div",{staticClass:"account-email"},[o("nuxt-link",{attrs:{to:t.$getRoutePath.apply(t,Object(n.a)(t.getCurrent))}},[o("p",[t._v(t._s(t.account.email))])])],1)]),t._v(" "),t._t("actions")],2)}),[],!1,null,null,null);o.default=component.exports},446:function(t,o,e){"use strict";e.r(o);var n=e(52),r=(e(42),e(13),e(82),e(14),e(10),e(15),e(11),e(16),e(39)),c=e(3),l=(e(73),e(8),e(56),e(119),e(27),e(118));function d(object,t){var o=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),o.push.apply(o,e)}return o}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(o){Object(c.a)(t,o,source[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(source,o))}))}return t}var m={name:"PostComponent",components:{AppAccountHeader:e(396).default},props:{post:{type:Object,required:!0}},computed:_(_({},Object(l.b)("auth",["user"])),{},{getOwnPost:function(){return"user"in this.post&&this.post.user._id.toString()===this.user._id.toString()},getLike:function(){var t=this;return!(!("likes"in this.post)||!this.post.likes.find((function(o){return o._id.toString()===t.user._id.toString()})))},getSave:function(){var t=this;return!(!("savedUsers"in this.post)||!this.post.savedUsers.find((function(o){return o._id.toString()===t.user._id.toString()})))}}),methods:{getRouteAccount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"_id"in t&&t._id.toString()===this.user._id.toString()?["profile"]:["user",t._id]},copyPostURL:function(data){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e="https://socialex-static.vercel.app/posts/".concat(data._id),o.prev=1,o.next=4,navigator.clipboard.writeText(e);case 4:t.$notify({message:"Copied to clipboard",variant:"success"}),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(1),t.handleError(o.t0);case 10:case"end":return o.stop()}}),o,null,[[1,7]])})))()},formatTime:function(){if("createdData"in this.post){var t=new Date(this.post.createdData),o=t.getFullYear(),e=t.getMonth(),n=t.getDay(),r=t.getHours(),c=t.getMinutes();return"".concat(n,".0").concat(e+1,".").concat(o," ").concat(r,":").concat(c<10?"0".concat(c):c)}},like:function(){this.getLike?this.$emit("unlike"):this.$emit("like")},save:function(){this.getSave?this.$emit("unsave"):this.$emit("save")},showLikedUsersListBtn:function(){this.$emit("likeList",this.post)},showMoreInfoBtn:function(){this.$emit("getMoreInfo",this.post)},deleteItemBtn:function(){this.$emit("deletePost",this.post)}}},v=m,f=e(67),component=Object(f.a)(v,(function(){var t,o,e=this,r=e._self._c;return r("div",{staticClass:"d-flex post-main"},[r("div",{staticClass:"post-main__left w-50"},[r("b-carousel",{attrs:{id:"carousel-1",controls:(null===(t=e.post.media)||void 0===t?void 0:t.length)>1,indicators:(null===(o=e.post.media)||void 0===o?void 0:o.length)>1,interval:0}},e._l(e.post.media,(function(t,o){return r("b-carousel-slide",{key:o,attrs:{alt:"Image"},scopedSlots:e._u([{key:"img",fn:function(){return[r("img",{staticClass:"d-block mx-auto post-main__left-item w-100",attrs:{src:t.url}})]},proxy:!0}],null,!0)})})),1)],1),e._v(" "),r("div",{staticClass:"post-main__right w-50"},[r("b-card",{attrs:{"header-tag":"header","footer-tag":"footer"},scopedSlots:e._u([{key:"header",fn:function(){return[r("AppAccountHeader",{staticClass:"account--post",attrs:{account:e.post.user?e.post.user:{}},scopedSlots:e._u([{key:"actions",fn:function(){return[r("div",{staticClass:"post__top-more"},[r("b-dropdown",{staticClass:"post__top-more-btn",attrs:{id:"dropdown-dropup",dropdown:"",dropleft:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[r("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}])},[e._v(" "),r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:function(t){return e.copyPostURL(e.post)}}},[r("span",{staticClass:"post__dropdown__item-more-link"},[e._v("Copy link")]),e._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"link-45deg"}})],1)]),e._v(" "),e.getOwnPost?e._e():r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:function(t){e.$router.push(e.$getRoutePath("user",e.post.user._id))}}},[r("span",{staticClass:"post__dropdown__item-more-link"},[e._v("Author account")]),e._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"person"}})],1)]),e._v(" "),e.getOwnPost?r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:e.showMoreInfoBtn}},[r("span",{staticClass:"post__dropdown__item-more-link"},[e._v("More post")]),e._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"bar-chart-line"}})],1)]):e._e(),e._v(" "),e.getOwnPost?r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:function(t){e.$router.push(e.$getRoutePath("editPost",e.post._id))}}},[r("span",{staticClass:"post__dropdown__item-more-link"},[e._v("Edit post")]),e._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"pencil"}})],1)]):e._e(),e._v(" "),e.getOwnPost?r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:e.deleteItemBtn}},[r("span",{staticClass:"post__dropdown__item-more-link"},[e._v("Delete post")]),e._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"trash"}})],1)]):e._e()])],1)]},proxy:!0}])})]},proxy:!0},{key:"default",fn:function(){var t;return[r("div",{staticClass:"post__bottom-desc"},[r("h5",[r("router-link",{attrs:{to:e.$getRoutePath.apply(e,Object(n.a)(e.getRouteAccount(e.post.user)))}},[e._v(e._s(null===(t=e.post.user)||void 0===t?void 0:t.name))]),e._v(" "),r("span",[e._v(e._s(e.post.title))])],1),e._v(" "),e.post.description?r("p",{domProps:{innerHTML:e._s(e.post.description)}}):e._e()]),e._v(" "),r("div",{staticClass:"post__comments"},[e._t("post-comments")],2)]},proxy:!0},{key:"footer",fn:function(){var t;return[r("div",{staticClass:"post__bottom"},[r("div",{staticClass:"post__bottom-actions"},[r("span",{class:[{"post__bottom-action--like":e.getLike},"post__bottom-action"],on:{click:e.like}},[r("b-icon",{attrs:{icon:e.getLike?"heart-fill":"heart"}})],1),e._v(" "),r("span",{staticClass:"post__bottom-action post__bottom-action--comment",on:{click:function(t){return e.$emit("add-comment")}}},[r("b-icon",{attrs:{icon:"chat-dots"}})],1),e._v(" "),r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:"Copy to clipboard",expression:"'Copy to clipboard'",modifiers:{hover:!0,right:!0}}],staticClass:"post__bottom-action post__bottom-action--send",on:{click:function(t){return e.copyPostURL(e.post)}}},[r("b-icon",{attrs:{icon:"link-45deg"}})],1),e._v(" "),r("span",{staticClass:"post__bottom-action post__bottom-action--save",on:{click:e.save}},[r("b-icon",{attrs:{icon:e.getSave?"bookmark-plus-fill":"bookmark-plus"}})],1)]),e._v(" "),r("div",{staticClass:"post__bottom-info"},[r("span",{staticClass:"post__bottom-info-likes",on:{click:e.showLikedUsersListBtn}},[r("b",[e._v(e._s(null===(t=e.post.likes)||void 0===t?void 0:t.length))]),e._v(" likes")]),e._v(" "),r("span",{staticClass:"post__bottom-info-date"},[e._v("Posted in "+e._s(e.formatTime()))])]),e._v(" "),r("div",{staticClass:"post__bottom-comment"},[e._t("post-input")],2)])]},proxy:!0}],null,!0)})],1)])}),[],!1,null,null,null);o.default=component.exports}}]);