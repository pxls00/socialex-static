(window.webpackJsonp=window.webpackJsonp||[]).push([[15,17],{396:function(t,e,o){"use strict";o.r(e);var n=o(52),r=(o(42),o(14),o(13),o(10),o(15),o(11),o(16),o(3)),c=(o(8),o(56),o(118));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={name:"AppAccountHeaderComponent",props:{account:{type:Object,required:!0}},computed:l(l({},Object(c.b)("auth",["user"])),{},{getCurrent:function(){return"_id"in this.account&&this.account._id.toString()===this.user._id.toString()?["profile"]:["user",this.account._id]}})},m=o(67),component=Object(m.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"account"},[e("div",{staticClass:"account-avatar"},[e("nuxt-link",{attrs:{to:t.$getRoutePath.apply(t,Object(n.a)(t.getCurrent))}},[e("img",{attrs:{src:t.account.image,alt:"profile logo"}})])],1),t._v(" "),e("div",{staticClass:"account-info"},[e("div",{staticClass:"account-name"},[e("nuxt-link",{attrs:{to:t.$getRoutePath.apply(t,Object(n.a)(t.getCurrent))}},[e("h3",[t._v(t._s(t.account.name))])])],1),t._v(" "),e("div",{staticClass:"account-email"},[e("nuxt-link",{attrs:{to:t.$getRoutePath.apply(t,Object(n.a)(t.getCurrent))}},[e("p",[t._v(t._s(t.account.email))])])],1)]),t._v(" "),t._t("actions")],2)}),[],!1,null,null,null);e.default=component.exports},435:function(t,e,o){"use strict";o.r(e);var n=o(52),r=(o(42),o(14),o(13),o(10),o(15),o(11),o(16),o(39)),c=o(3),d=(o(73),o(119),o(8),o(56),o(27),o(118));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"PostComponent",components:{AppAccountHeader:o(396).default},props:{data:{type:Object,required:!0}},data:function(){return{}},computed:_(_({},Object(d.b)("auth",["user"])),{},{getLike:function(){var t,e=this;return!(null===(t=this.data)||void 0===t||!t.likes.find((function(t){return t._id.toString()===e.user._id.toString()})))},getSave:function(){var t,e=this;return!(null===(t=this.data)||void 0===t||!t.savedUsers.find((function(t){return t._id.toString()===e.user._id.toString()})))},getOwnPost:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.user._id.toString())===this.user._id.toString()},getTime:function(){return this.formatTime()}}),methods:{getRouteAccount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"_id"in t&&t._id.toString()===this.user._id.toString()?["profile"]:["user",t._id]},formatTime:function(){var t=new Date(this.data.createdData),e=t.getFullYear(),o=t.getMonth(),n=t.getDay(),r=t.getHours(),c=t.getMinutes();return"".concat(n,".0").concat(o+1,".").concat(e," ").concat(r,":").concat(c<10?"0".concat(c):c)},like:function(){this.getLike?this.$emit("unlike",this.data):this.$emit("like",this.data)},save:function(){this.getSave?this.$emit("unsave",this.data):this.$emit("save",this.data)},copyPostURL:function(data){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="https://socialex-static.vercel.app/posts/".concat(data._id),e.prev=1,e.next=4,navigator.clipboard.writeText(o);case 4:t.$notify({message:"Copied to clipboard",variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.handleError(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},showLikedUsersListBtn:function(){this.$emit("likeList",this.data)},showMoreInfoBtn:function(){this.$emit("getMoreInfo",this.data)},deleteItemBtn:function(){this.$emit("deletePost",this.data)}}},v=m,f=o(67),component=Object(f.a)(v,(function(){var t,e,o=this,r=o._self._c;return r("b-card",{attrs:{"header-tag":"header","footer-tag":"footer"},scopedSlots:o._u([{key:"header",fn:function(){return[r("AppAccountHeader",{staticClass:"account--post",attrs:{account:o.data.user},scopedSlots:o._u([{key:"actions",fn:function(){return[r("div",{staticClass:"post__top-more"},[r("b-dropdown",{staticClass:"post__top-more-btn",attrs:{id:"dropdown-dropup",dropdown:"",dropleft:""},scopedSlots:o._u([{key:"button-content",fn:function(){return[r("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}])},[o._v(" "),r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:function(t){return o.copyPostURL(o.data)}}},[r("span",{staticClass:"post__dropdown__item-more-link"},[o._v("Copy link")]),o._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"link-45deg"}})],1)]),o._v(" "),o.getOwnPost?o._e():r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:function(t){o.$router.push(o.$getRoutePath("user",o.data.user._id))}}},[r("span",{staticClass:"post__dropdown__item-more-link"},[o._v("Author account")]),o._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"person"}})],1)]),o._v(" "),r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:function(t){o.$router.push(o.$getRoutePath("post",o.data._id))}}},[r("span",{staticClass:"post__dropdown__item-more-link"},[o._v("Go to post")]),o._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"life-preserver"}})],1)]),o._v(" "),o.getOwnPost?r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:o.showMoreInfoBtn}},[r("span",{staticClass:"post__dropdown__item-more-link"},[o._v("More post")]),o._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"bar-chart-line"}})],1)]):o._e(),o._v(" "),o.getOwnPost?r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:function(t){o.$router.push(o.$getRoutePath("editPost",o.data._id))}}},[r("span",{staticClass:"post__dropdown__item-more-link"},[o._v("Edit post")]),o._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"pencil"}})],1)]):o._e(),o._v(" "),o.getOwnPost?r("div",{staticClass:"d-flex py-1 px-2 justify-content-between dropdown-item-btn",on:{click:o.deleteItemBtn}},[r("span",{staticClass:"post__dropdown__item-more-link"},[o._v("Delete post")]),o._v(" "),r("span",{staticClass:"post__dropdown__item-more-icon"},[r("b-icon",{attrs:{icon:"trash"}})],1)]):o._e()])],1)]},proxy:!0}])})]},proxy:!0},{key:"footer",fn:function(){var t,e;return[r("div",{staticClass:"post__bottom"},[r("div",{staticClass:"post__bottom-actions"},[r("span",{class:[{"post__bottom-action--like":o.getLike},"post__bottom-action"],on:{click:o.like}},[r("b-icon",{attrs:{icon:o.getLike?"heart-fill":"heart"}})],1),o._v(" "),r("span",{staticClass:"post__bottom-action post__bottom-action--comment",on:{click:function(t){o.$router.push(o.$getRoutePath("post",o.data._id))}}},[r("b-icon",{attrs:{icon:"chat-dots"}})],1),o._v(" "),r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:"Copy to clipboard",expression:"'Copy to clipboard'",modifiers:{hover:!0,right:!0}}],staticClass:"post__bottom-action post__bottom-action--send",on:{click:function(t){return o.copyPostURL(o.data)}}},[r("b-icon",{attrs:{icon:"link-45deg"}})],1),o._v(" "),r("span",{staticClass:"post__bottom-action post__bottom-action--save",on:{click:o.save}},[r("b-icon",{attrs:{icon:o.getSave?"bookmark-plus-fill":"bookmark-plus"}})],1)]),o._v(" "),r("div",{staticClass:"post__bottom-info"},[r("span",{staticClass:"post__bottom-info-likes",on:{click:o.showLikedUsersListBtn}},[r("b",[o._v(o._s(o.data.likes.length))]),o._v(" likes")]),o._v(" "),r("span",{staticClass:"post__bottom-info-date"},[o._v("Posted in "+o._s(o.getTime))])]),o._v(" "),r("div",{staticClass:"post__bottom-desc"},[r("h5",[r("router-link",{attrs:{to:o.$getRoutePath.apply(o,Object(n.a)(o.getRouteAccount(o.data.user)))}},[o._v(o._s(o.data.user.name))]),o._v(" "),r("span",[o._v(o._s(o.data.title))])],1)]),o._v(" "),r("router-link",{staticClass:"post__bottom-comments-link",attrs:{to:o.$getRoutePath("post",o.data._id)}},[o._v(o._s(null!==(t=o.data)&&void 0!==t&&t.commentsLength?"View all (".concat(null===(e=o.data)||void 0===e?void 0:e.commentsLength,") comments"):"No comments yet"))])],1)]},proxy:!0}])},[o._v(" "),r("b-carousel",{attrs:{id:"carousel-1",controls:(null===(t=o.data.media)||void 0===t?void 0:t.length)>1,indicators:(null===(e=o.data.media)||void 0===e?void 0:e.length)>1,"img-height":"350",interval:0}},o._l(o.data.media,(function(t,e){return r("b-carousel-slide",{key:e,attrs:{alt:"Image"},scopedSlots:o._u([{key:"img",fn:function(){return[r("img",{staticClass:"d-block mx-auto w-100 home-item-img",attrs:{src:t.url}})]},proxy:!0}],null,!0)})})),1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);